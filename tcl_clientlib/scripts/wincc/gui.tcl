# $Id: gui.tcl,v 1.1 2000/07/15 21:34:38 wuestner Exp $
# © 1999 P. Wüstner; Zentrallabor für Elektronik; Forschungszentrum Jülich
#
# global_dispwin
# global_setup
#

proc start_gui {} {
  crate_main_win
}

proc crate_main_win {} {
  global global_dispwin global_setup global_color

  menu .menubar
  set filemenu [create_menu_file .menubar]
  set setupmenu [create_menu_setup .menubar]
  set controlmenu [create_menu_control .menubar]

  .menubar add cascade -label File -underline 0 -menu $filemenu
  .menubar add cascade -label Setup -underline 0 -menu $setupmenu
  .menubar add cascade -label Control -underline 0 -menu $controlmenu

  frame .bar -height 4 -width 10c -background black

  pack .bar -side top -fill x
  frame .vframe -relief raised -borderwidth 2
  varframe::create .vframe.varframe
  frame .vframe.bar -height 6
  pack .vframe.varframe -side top -fill x
  pack .vframe.bar -side top -fill x
  pack .vframe -side top -fill x
  set global_color(backcolor) [.vframe cget -background]

  image create bitmap sfzj -foreground white -data {
#define schrumpf-logo_width 36
#define schrumpf-logo_height 33
static char schrumpf-logo_bits[] = {
 0x00,0x00,0x00,0x00,0xf0,0x00,0x00,0x04,0x00,0xf0,0x00,0xe0,0xff,0x00,0xf0,
 0x00,0xf8,0x7f,0x00,0xf0,0x00,0xfe,0x7f,0x00,0xf0,0x00,0xff,0x3f,0x00,0xf0,
 0x80,0xff,0x3f,0x00,0xf0,0xc0,0xff,0x1f,0x00,0xf0,0xe0,0xff,0x1f,0xc0,0xf0,
 0xe0,0xff,0x1f,0xc0,0xf1,0xf0,0xff,0x0f,0xc0,0xf1,0xf0,0xff,0x0f,0xe0,0xf3,
 0xf8,0xff,0x07,0xe0,0xf3,0xf8,0xff,0x07,0xf0,0xf3,0xf8,0xff,0x07,0xf0,0xf7,
 0xf8,0xff,0x03,0xf8,0xf7,0xf8,0xff,0x03,0xf8,0xf7,0xfc,0xff,0x01,0xf8,0xf7,
 0xf8,0xf8,0x01,0xfc,0xf7,0x78,0xf8,0x00,0xfc,0xf7,0x18,0x60,0x00,0xfe,0xf7,
 0x08,0x00,0x00,0xfe,0xf3,0x00,0x00,0x00,0xff,0xf3,0x00,0x00,0x80,0xff,0xf3,
 0x00,0x00,0x80,0xff,0xf1,0x00,0x00,0xc0,0xff,0xf1,0x00,0x00,0xe0,0xff,0xf0,
 0x00,0x00,0xf0,0x7f,0xf0,0x00,0x00,0xfc,0x7f,0xf0,0x00,0x03,0xff,0x3f,0xf0,
 0x00,0xfe,0xff,0x1f,0xf0,0x00,0xfc,0xff,0x07,0xf0,0x00,0xf0,0xff,0x01,0xf0
 };}

  frame .logo_ -borderwidth 2 -relief flat
  frame .logo_.logo -background #01a0c6
  label .logo_.logo.t -text "Zentrallabor für Elektronik (ZEL)"\
    -background #01a0c6 -foreground white -cursor {} -padx 2 -pady 2\
    -font {Helvetica -16 bold roman}
  label .logo_.logo.l -image sfzj -background #01a0c6
  pack .logo_.logo.t -side left -fill x -expand 1
  pack .logo_.logo.l -side left
  pack .logo_.logo -side bottom -fill x
  pack .logo_ -side bottom -fill x

  create_log .logframe
  pack .logframe -side bottom -fill both -expand 1
  . configure -menu .menubar
  output "gui ready" tag_blue
}
